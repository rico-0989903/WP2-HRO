{% extends "index.html" %}

{% block form %}
<p>Aanwezigheid voor les {{les}}!</p>
<form id="form">
    <label>Naam:</label>
    <br>
    <input type="text" id="naam">
    <br>
    <label>Studentnummer:</label>
    <br>  
    <input type="number" id="studentnummer">
    <br><br>
    <button class="button" onclick="submit_entry();">Aanwezig</button>
</form>
<script>
    $("form").submit(function(e) {
    e.preventDefault();
    });
    function submit_entry(){
        try{
            var naam = document.getElementById('naam');
            var nummer = document.getElementById('studentnummer');

            var entry = {
                naam: naam.value,
                nummer: nummer.value
            };

            fetch('/data',{
                method: 'POST',
                body: JSON.stringify(entry),
                headers: {
                    "accept": "application/json",
                    "content-type": "application/json"
                }
            })
            } catch (error){
                console.log(error);
            }
        /*.then(function (response){
            if (response.status !== 200){
                console.log(`Status is not 200: ${response.status}`);
                return ;
            }
            response.json().then(function (data){
                console.log(data);
            })
        })*/
    }

</script>
{% endblock %}